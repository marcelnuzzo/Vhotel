{% extends 'admin/base.html.twig' %}

{% block title %}Liste des utilisateurs!{% endblock %}

{% block body %}

<div class="container-fluid my-3">
    <div class = "jumbotron">
        <h1 style="text-align:center"><mark>Les utilisateurs</mark></h1> 
        <a href="{{ path('homepage') }}" class="btn btn-info">Retour au menu principale</a> 
    </div>
    <h2><mark>{{ user | length }} utilisateurs</mark></h2>
    <a class="btn btn-warning mb-3" style="color:white" href="{{ path('app_admin_admin_newUser') }}" role="button" >Nouveau</a>
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th>Pr√©nom</th>
            <th>Nom</th>
            <th>Email</th>
            <th>Photo</th>
            <th>Role</th>
        </tr>
        {%for user in users %} 
            <tr>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.email }}</td>
                <td>
                    <img src="{{ user.picture }}" class="avatar avatar-medium" alt="Avatar de {{user.firstname}} {{user.lastname}}">
                </td>
                <td>
                    <ul>
                    {% for role in user.roles %}
                            <li>{{ role }}</li>
                    {% endfor %}
                    </ul>
                </td>
                <td><a class="btn btn-info" style="color:white" href="{{ path("app_admin_admin_editUser", {'id':user.id}) }}" role="button" >Modifier</a></td>
                <td><a class="btn btn-danger" style="color:white" href="{{ path("app_admin_admin_deleteUser", {'id':user.id}) }}" role="button" >Supprimer</a></td>
            </tr>
        {% endfor %}
    </table>
</div>
  
{% endblock %}